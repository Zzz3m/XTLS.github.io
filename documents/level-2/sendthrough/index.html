<!doctype html><html><head><title>é€šè¿‡Xrayå°†ç‰¹å®šçš„æµé‡æŒ‡å‘ç‰¹å®šå‡ºå£ï¼Œå®ç°å…¨å±€è·¯ç”±â€œåˆ†æµâ€-sendthroughæ³• :: Project X</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name=revised content="2021-03-17T08:39:41 UTC"><meta name=description content="Project X çš„æ–‡æ¡£."><meta name=author content="Project X"><title>é€šè¿‡Xrayå°†ç‰¹å®šçš„æµé‡æŒ‡å‘ç‰¹å®šå‡ºå£ï¼Œå®ç°å…¨å±€è·¯ç”±â€œåˆ†æµâ€-sendthroughæ³• :: Project X</title><link rel="shortcut icon" href=/images/favicon.png type=image/x-icon><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/css/bootstrap.min.css integrity=sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.css><script src=https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js></script><link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel=stylesheet><link rel=stylesheet type=text/css href=https://xtls.github.io/sass/layout.css><link rel=stylesheet type=text/css href=https://xtls.github.io/css/style.main.css><link rel=stylesheet type=text/css href=https://xtls.github.io/css/style.menu.css><link rel=stylesheet type=text/css href=https://xtls.github.io/sass/shortcodes/notice.css><link rel=stylesheet type=text/css href=https://xtls.github.io/sass/shortcodes/tabs.css><link rel=stylesheet type=text/css href=https://xtls.github.io/sass/shortcodes/panel.css><link rel=stylesheet type=text/css href=https://xtls.github.io/sass/shortcodes/columns.css><link rel=stylesheet type=text/css href=https://xtls.github.io/sass/shortcodes/children.css><link rel=stylesheet type=text/css href=https://xtls.github.io/sass/shortcodes/attachments.css><link rel=stylesheet type=text/css href=https://xtls.github.io/sass/shortcodes/alert.css><link rel=stylesheet type=text/css href=/css/docport.css><script src=/js/docport.js></script><script type=text/javascript>var baseurl="https://xtls.github.io"</script><link rel=stylesheet href=/css/custom.css></head><body data-url=/documents/level-2/sendthrough/><style type=text/css>#debug{display:-webkit-box;display:-ms-flexbox;display:flex;line-height:3.5rem;margin-bottom:.35rem;padding:0 2rem;position:fixed;left:0;right:0;top:0;top:0;min-height:150px;background-color:#fff;border:3px solid red;z-index:10000;word-wrap:all;overflow:auto}</style><header><div><div class=burger><a href=javascript:void(0); style=font-size:15px onclick="$('article > aside').toggleClass('responsive')">&#9776;</a></div><div><a class=baselink href=https://xtls.github.io>Project X</a></div><nav class=shortcuts><li role><a href=/about/new rel=noopener>What's New</a></li><li role><a href=https://github.com/XTLS rel=noopener>GitHub</a></li><li role><a href=https://github.com/XTLS/Xray-core/releases rel=noopener>Download</a></li><li role><a href=https://xtls.github.io/ rel=noopener>Documentation</a></li></nav></div></header><article><aside><div class=search><div class=searchbox><input data-search-input id=search-by type=text placeholder></div><script type=text/javascript src=/vendor/lunr/lunr.min.js></script><script type=text/javascript src=/vendor/auto-complete/auto-complete.js></script><link href=/vendor/auto-complete/auto-complete.css rel=stylesheet><script type=text/javascript>var baseurl="https://xtls.github.io"</script><script type=text/javascript src=/js/search.js></script></div><center><a class=github-button href=https://github.com/XTLS/Xray-core/releases data-icon=octicon-cloud-download aria-label="Download vjeantet/hugo-theme-docport on GitHub">Download</a>
<a class=github-button href=https://github.com/XTLS/Xray-core data-icon=octicon-star data-show-count=false aria-label="Star vjeantet/hugo-theme-docport on GitHub">Star</a>
<a class=github-button href=https://github.com/XTLS/Xray-core/fork data-icon=octicon-repo-forked data-show-count=true aria-label="Fork vjeantet/hugo-theme-docport on GitHub">Fork</a></center>
<script async defer src=https://buttons.github.io/buttons.js></script><div id=close_menu><a href=javascript:void(0); style=font-size:15px onclick="$('article > aside').toggleClass('responsive')"><i class="fa fa-lg fa-times"></i></a></div><ul class=menu><hr><li data-nav-id=https://xtls.github.io/about/ class="dd-item haschildren
item_level_$level"><i class="fas fa-chevron-right ddexp"></i><a href=/about/>Project X&nbsp;âš¡</a><ul><li data-nav-id=https://xtls.github.io/about/new/ class="dd-item
item_level_$level"><a href=/about/new/>å¤§å²è®°&nbsp;</a></li></ul></li><hr><li data-nav-id=https://xtls.github.io/guide/ class="dd-item alwaysopen
item_level_$level"><a href=/guide/>å¿«é€Ÿå…¥é—¨&nbsp;</a></li><li data-nav-id=https://xtls.github.io/config/ class="dd-item haschildren
item_level_$level"><i class="fas fa-chevron-right ddexp"></i><a href=/config/>é…ç½®æ–‡ä»¶&nbsp;ğŸ“œ</a><ul><li data-nav-id=https://xtls.github.io/config/base/ class="dd-item haschildren
item_level_$level"><a href=/config/base/>åŸºç¡€é…ç½®æ¨¡å—&nbsp;</a>
<i class="fas fa-chevron-right ddexp"></i><ul><li data-nav-id=https://xtls.github.io/config/base/log/ class="dd-item
item_level_$level"><a href=/config/base/log/>æ—¥å¿—é…ç½®</a></li><li data-nav-id=https://xtls.github.io/config/base/api/ class="dd-item
item_level_$level"><a href=/config/base/api/>APIæ¥å£</a></li><li data-nav-id=https://xtls.github.io/config/base/dns/ class="dd-item
item_level_$level"><a href=/config/base/dns/>å†…ç½®DNSæœåŠ¡å™¨</a></li><li data-nav-id=https://xtls.github.io/config/base/routing/ class="dd-item
item_level_$level"><a href=/config/base/routing/>è·¯ç”±</a></li><li data-nav-id=https://xtls.github.io/config/base/policy/ class="dd-item
item_level_$level"><a href=/config/base/policy/>æœ¬åœ°ç­–ç•¥</a></li><li data-nav-id=https://xtls.github.io/config/base/inbounds/ class="dd-item
item_level_$level"><a href=/config/base/inbounds/>Inbounds</a></li><li data-nav-id=https://xtls.github.io/config/base/outbounds/ class="dd-item
item_level_$level"><a href=/config/base/outbounds/>Outbounds</a></li><li data-nav-id=https://xtls.github.io/config/base/transport/ class="dd-item
item_level_$level"><a href=/config/base/transport/>ä¼ è¾“æ–¹å¼</a></li><li data-nav-id=https://xtls.github.io/config/base/stats/ class="dd-item
item_level_$level"><a href=/config/base/stats/>ç»Ÿè®¡ä¿¡æ¯</a></li><li data-nav-id=https://xtls.github.io/config/base/reverse/ class="dd-item
item_level_$level"><a href=/config/base/reverse/>åå‘ä»£ç†</a></li></ul></li><li data-nav-id=https://xtls.github.io/config/inbound-protocols/ class="dd-item
item_level_$level"><a href=/config/inbound-protocols/>Inbounds å¯ç”¨åè®®åˆ—è¡¨</a></li><li data-nav-id=https://xtls.github.io/config/outbound-protocols/ class="dd-item
item_level_$level"><a href=/config/outbound-protocols/>Outbounds å¯ç”¨åè®®åˆ—è¡¨</a></li><li data-nav-id=https://xtls.github.io/config/transports/ class="dd-item
item_level_$level"><a href=/config/transports/>ä¼ è¾“æ–¹å¼åˆ—è¡¨</a></li><li data-nav-id=https://xtls.github.io/config/vless/ class="dd-item
item_level_$level"><a href=/config/vless/>VLESS åè®®è¯¦è§£</a></li><li data-nav-id=https://xtls.github.io/config/fallback/ class="dd-item
item_level_$level"><a href=/config/fallback/>Fallbacks</a></li><li data-nav-id=https://xtls.github.io/config/xtls/ class="dd-item
item_level_$level"><a href=/config/xtls/>XTLS æ·±åº¦å‰–æ</a></li><li data-nav-id=https://xtls.github.io/config/env/ class="dd-item
item_level_$level"><a href=/config/env/>ç¯å¢ƒå˜é‡</a></li><li data-nav-id=https://xtls.github.io/config/multiple_config/ class="dd-item alwaysopen
item_level_$level"><a href=/config/multiple_config/>å¤šæ–‡ä»¶é…ç½®</a></li></ul></li><li data-nav-id=https://xtls.github.io/documents/ class="dd-item parent haschildren
item_level_$level"><i class="fas fa-chevron-down ddexp"></i><a href=/documents/>ä½¿ç”¨å¿ƒå¾—&nbsp;ğŸ“š</a><ul><li data-nav-id=https://xtls.github.io/documents/level-0/ class="dd-item alwaysopen
item_level_$level"><a href=/documents/level-0/>å°å°ç™½ç™½è¯æ–‡&nbsp;ğŸ“™</a></li><li data-nav-id=https://xtls.github.io/documents/level-1/ class="dd-item alwaysopen
item_level_$level"><a href=/documents/level-1/>å…¥é—¨æŠ€å·§&nbsp;ğŸ“š</a></li><li data-nav-id=https://xtls.github.io/documents/level-2/ class="dd-item parent active alwaysopen
item_level_$level"><a href=/documents/level-2/>è¿›é˜¶æ–‡æ¡£&nbsp;ğŸ“˜</a></li></ul></li><li data-nav-id=https://xtls.github.io/develop/ class="dd-item haschildren
item_level_$level"><i class="fas fa-chevron-right ddexp"></i><a href=/develop/>å¼€å‘æŒ‡å—&nbsp;ğŸ–¥ï¸</a><ul><li data-nav-id=https://xtls.github.io/develop/intro/ class="dd-item alwaysopen
item_level_$level"><a href=/develop/intro/>å¼€å‘æ‰‹å†Œ</a></li><li data-nav-id=https://xtls.github.io/develop/protocols/ class="dd-item alwaysopen
item_level_$level"><a href=/develop/protocols/>åè®®è¯¦è§£</a></li></ul></li><li data-nav-id=https://xtls.github.io/faq/ class="dd-item alwaysopen
item_level_$level"><a href=/faq/>å¸¸è§é—®ç­”&nbsp;ğŸ’¬</a></li><li data-nav-id=https://xtls.github.io/caseslip/ class="dd-item alwaysopen
item_level_$level"><a href=/caseslip/>å¤§æ¡ˆç‰æœ¯&nbsp;</a></li><hr><li data-nav-id=https://xtls.github.io/links/ class="dd-item alwaysopen
item_level_$level"><a href=/links/>å¸¸ç”¨é“¾æ¥&nbsp;ğŸ¤</a></li></ul></aside><section class=page><nav id=ariane aria-label=breadcrumb><ol class=ariane><li><a class=text-link href=https://xtls.github.io></a></li><li><a class=text-link href=/documents/>ä½¿ç”¨å¿ƒå¾—</a></li><li><a class=text-link href=/documents/level-2/>è¿›é˜¶æ–‡æ¡£</a></li><li class=active>é€šè¿‡Xrayå°†ç‰¹å®šçš„æµé‡æŒ‡å‘ç‰¹å®šå‡ºå£ï¼Œå®ç°å…¨å±€è·¯ç”±â€œåˆ†æµâ€-sendthroughæ³•</li></ol></nav><h1>è¿›é˜¶æ–‡æ¡£<span>é€šè¿‡Xrayå°†ç‰¹å®šçš„æµé‡æŒ‡å‘ç‰¹å®šå‡ºå£ï¼Œå®ç°å…¨å±€è·¯ç”±â€œåˆ†æµâ€-sendthroughæ³•</span></h1><nav class=subpages><li><a title=$pagetitle href=/documents/level-2/transparent_proxy/transparent_proxy/>é€æ˜ä»£ç†å…¥é—¨</a></li><li><a title=$pagetitle href=/documents/level-2/fwmark/>é€šè¿‡Xrayå°†ç‰¹å®šçš„æµé‡æŒ‡å‘ç‰¹å®šå‡ºå£ï¼Œå®ç°å…¨å±€è·¯ç”±â€œåˆ†æµâ€-fwmarkæ³•</a></li><li class=active><a title=$pagetitle href=/documents/level-2/sendthrough/>é€šè¿‡Xrayå°†ç‰¹å®šçš„æµé‡æŒ‡å‘ç‰¹å®šå‡ºå£ï¼Œå®ç°å…¨å±€è·¯ç”±â€œåˆ†æµâ€-sendthroughæ³•</a></li><li><a title=$pagetitle href=/documents/level-2/tproxy/>é€æ˜ä»£ç†ï¼ˆTProxyï¼‰é…ç½®æ•™ç¨‹</a></li><li><a title=$pagetitle href=/documents/level-2/iptables_gid/>é€æ˜ä»£ç†é€šè¿‡gidè§„é¿Xrayæµé‡</a></li></nav><div class=jump-to-section><span onclick="$h=$(this),$h.next('nav').slideToggle(100,function(){$h.children('i').attr('class',function(){return $h.next('nav').is(':visible')?'fas fa-chevron-down':'fas fa-chevron-right'})})"><span class="fas fa-align-right"></span><i class="fas fa-chevron-right"></i></span><nav id=TableOfContents><ul><li><a href=#å‰è¨€>å‰è¨€</a></li><li><a href=#1å®‰è£…ä»£ç†æˆ–è€…vpnè½¯ä»¶ä¾‹å¦‚wireguardipsecç­‰>1ã€å®‰è£…ä»£ç†æˆ–è€…VPNè½¯ä»¶ï¼ˆä¾‹å¦‚Wireguardã€IPsecç­‰ï¼‰</a></li><li><a href=#2ç¼–è¾‘vpné…ç½®æ–‡ä»¶ä»¥wireguardä¸ºä¾‹>2ã€ç¼–è¾‘VPNé…ç½®æ–‡ä»¶ï¼ˆä»¥WireGuardä¸ºä¾‹ï¼‰</a></li><li><a href=#3å¯ç”¨-wireguard-ç½‘ç»œæ¥å£>3ã€å¯ç”¨ WireGuard ç½‘ç»œæ¥å£</a></li><li><a href=#4xray-corev2ray-coreé…ç½®æ–‡ä»¶ä¿®æ”¹>4ã€Xray-core/V2ray-coreé…ç½®æ–‡ä»¶ä¿®æ”¹</a></li><li><a href=#5ç³»ç»Ÿè®¾ç½®é…ç½®>5ã€ç³»ç»Ÿè®¾ç½®é…ç½®</a></li><li><a href=#6å®Œæˆwireguardç›¸å…³è®¾ç½®>6ã€å®ŒæˆWireGuardç›¸å…³è®¾ç½®</a></li><li><a href=#åè®°>åè®°</a></li><li><a href=#æ„Ÿè°¢>æ„Ÿè°¢</a></li></ul></nav></div><div class=content><h2 ref=å‰è¨€>å‰è¨€</h2><a class=anchor id=å‰è¨€></a><p>ä¹‹å‰åœ¨ä¸Šç¯‡<a href=https://xtls.github.io/documents/level-2/fwmark/>é€šè¿‡Xrayå°†ç‰¹å®šçš„æµé‡æŒ‡å‘ç‰¹å®šå‡ºå£ï¼Œå®ç°å…¨å±€è·¯ç”±â€œåˆ†æµâ€-fwmarkæ³•</a>ä¸­ï¼Œ å·²ç»æ¸…æ™°åœ°è®²è¿‡ä½¿ç”¨fwmarkåˆ†æµçš„æ–¹å¼ï¼Œé‚£ä¹ˆé™¤æ­¤ä¹‹å‰ï¼ŒXrayè¿˜æä¾›äº†sendthrougå¯ä»¥å®ç°ç›¸åŒæ•ˆæœï¼Œæ›´æ–¹ä¾¿</p><p>â‘  Xrayå¯è®¾ç½®æŒ‡å®šçš„Tagã€åŸŸåç­‰èµ°æŒ‡å®šæ¥å£ã€‚å¦‚æœæ‚¨çš„æ¥å£æ˜¯åŒæ ˆçš„ï¼Œå¯ä»¥æŒ‡å®šIPV4æˆ–è€…IPV6
â‘¡ å…¶ä½™ç”¨æˆ·åˆ™èµ°åŸIPV4æˆ–è€…IPV6</p><p>å…·ä½“è®¾ç½®å¦‚ä¸‹ï¼ˆä»¥Debian10ä¸ºä¾‹ï¼‰ï¼š</p><h2 ref=1å®‰è£…ä»£ç†æˆ–è€…vpnè½¯ä»¶ä¾‹å¦‚wireguardipsecç­‰>1ã€å®‰è£…ä»£ç†æˆ–è€…VPNè½¯ä»¶ï¼ˆä¾‹å¦‚Wireguardã€IPsecç­‰ï¼‰</h2><a class=anchor id=1å®‰è£…ä»£ç†æˆ–è€…vpnè½¯ä»¶ä¾‹å¦‚wireguardipsecç­‰></a><p>æ ¹æ®ä¸åŒç³»ç»Ÿå’Œä¸åŒè½¯ä»¶ï¼Œè¯·å‚è€ƒå®˜æ–¹å®‰è£…æ–¹æ³•</p><h2 ref=2ç¼–è¾‘vpné…ç½®æ–‡ä»¶ä»¥wireguardä¸ºä¾‹>2ã€ç¼–è¾‘VPNé…ç½®æ–‡ä»¶ï¼ˆä»¥WireGuardä¸ºä¾‹ï¼‰</h2><a class=anchor id=2ç¼–è¾‘vpné…ç½®æ–‡ä»¶ä»¥wireguardä¸ºä¾‹></a><p>//åŸå§‹æ–‡ä»¶</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback>[Interface]
PrivateKey = xxxxxxxxxxxxxxxxxxxx
Address = &#34;your wg0 v4 address&#34;
Address = &#34;your wg0 v6 address&#34;
DNS = 8.8.8.8
MTU = 1280

[Peer]
PublicKey = xxxxxxxxxxxxxxxxxxxxx
AllowedIPs = ::/0
AllowedIPs = 0.0.0.0/0
Endpoint = &#34;ip:port&#34;
</code></pre></div><p>//åœ¨[Interface]ä¸‹æ·»åŠ å¦‚ä¸‹å‘½ä»¤ï¼š</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback>Table = off
PostUP = ip -4 rule add from &#34;your wg0 v4 address&#34; lookup &lt;table&gt;
PostUP = ip -4 route add default dev wg0 table &lt;table&gt;
PostUP = ip -4 rule add table main suppress_prefixlength 0
PostUP = ip -6 rule add not fwmark &lt;table&gt; table &lt;table&gt;
PostUP = ip -6 route add ::/0 dev wg0 table &lt;table&gt;
PostUP = ip -6 rule add table main suppress_prefixlength 0
PostDown = ip -4 rule delete from &#34;your wg0 v4 address&#34; lookup &lt;table&gt;
PostDown = ip -4 rule delete table main suppress_prefixlength 0
PostDown = ip -6 rule delete not fwmark &lt;table&gt; table &lt;table&gt;
PostDown = ip -6 rule delete table main suppress_prefixlength 0
</code></pre></div><div class="notices warning"><p><strong>TIPS</strong></p><p>ï¼ˆæ­¤å‘½ä»¤è¡¨ç¤ºIPV4ä¸­from &ldquo;your wg0 v4 address"åœ°å€çš„èµ°WireGuardï¼ŒIPV6ä¸­::/0å…¨å±€v6èµ°WireGuardï¼‰
ï¼ˆå¯æ ¹æ®è‡ªå·±éœ€æ±‚å¢åˆ å‘½ä»¤ï¼Œå®ç°v6åˆ†æµï¼Œä¹Ÿå¯ä»¥ç»“åˆä¸Šç¯‡å®ç°sendThroughä¸fwmarkèåˆï¼‰
ï¼ˆå¦‚æœä¸æ”¯æŒé…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åœ¨ç³»ç»Ÿä¸­ä¿®æ”¹è·¯ç”±è¡¨ï¼‰</p></div><p>ä¿å­˜</p><p>å¯é¡ºæ‰‹å®‰è£…</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash>apt install openresolv
</code></pre></div><h2 ref=3å¯ç”¨-wireguard-ç½‘ç»œæ¥å£>3ã€å¯ç”¨ WireGuard ç½‘ç»œæ¥å£</h2><a class=anchor id=3å¯ç”¨-wireguard-ç½‘ç»œæ¥å£></a><p>//åŠ è½½å†…æ ¸æ¨¡å—</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash>modprobe wireguard
</code></pre></div><p>//æ£€æŸ¥WGæ¨¡å—åŠ è½½æ˜¯å¦æ­£å¸¸</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash>lsmod | grep wireguard
</code></pre></div><h2 ref=4xray-corev2ray-coreé…ç½®æ–‡ä»¶ä¿®æ”¹>4ã€Xray-core/V2ray-coreé…ç½®æ–‡ä»¶ä¿®æ”¹</h2><a class=anchor id=4xray-corev2ray-coreé…ç½®æ–‡ä»¶ä¿®æ”¹></a><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-json data-lang=json>{
  <span style=color:#f92672>&#34;api&#34;</span>: {
    <span style=color:#f92672>&#34;services&#34;</span>: [
      <span style=color:#e6db74>&#34;HandlerService&#34;</span>,
      <span style=color:#e6db74>&#34;LoggerService&#34;</span>,
      <span style=color:#e6db74>&#34;StatsService&#34;</span>
    ],
    <span style=color:#f92672>&#34;tag&#34;</span>: <span style=color:#e6db74>&#34;api&#34;</span>
  },
  <span style=color:#f92672>&#34;inbounds&#34;</span>: [
    {
      <span style=color:#f92672>&#34;listen&#34;</span>: <span style=color:#e6db74>&#34;127.0.0.1&#34;</span>,
      <span style=color:#f92672>&#34;port&#34;</span>: <span style=color:#960050;background-color:#1e0010>&lt;port&gt;</span>,
      <span style=color:#f92672>&#34;protocol&#34;</span>: <span style=color:#e6db74>&#34;dokodemo-door&#34;</span>,
      <span style=color:#f92672>&#34;settings&#34;</span>: {
        <span style=color:#f92672>&#34;address&#34;</span>: <span style=color:#e6db74>&#34;127.0.0.1&#34;</span>
      },
      <span style=color:#f92672>&#34;tag&#34;</span>: <span style=color:#e6db74>&#34;api&#34;</span>
    }
  ],
  <span style=color:#f92672>&#34;outbounds&#34;</span>: [
    {
      <span style=color:#f92672>&#34;protocol&#34;</span>: <span style=color:#e6db74>&#34;freedom&#34;</span>,
      <span style=color:#f92672>&#34;settings&#34;</span>: {<span style=color:#f92672>&#34;domainStrategy&#34;</span>: <span style=color:#e6db74>&#34;UseIPv4&#34;</span>}<span style=color:#960050;background-color:#1e0010>//ä¿®æ”¹æ­¤å¤„ï¼Œå¯v</span><span style=color:#ae81ff>4</span><span style=color:#960050;background-color:#1e0010>æˆ–è€…v</span><span style=color:#ae81ff>6</span>
    },
    {
      <span style=color:#f92672>&#34;tag&#34;</span>: <span style=color:#e6db74>&#34;wg0&#34;</span>,
      <span style=color:#f92672>&#34;protocol&#34;</span>: <span style=color:#e6db74>&#34;freedom&#34;</span>,
      <span style=color:#f92672>&#34;sendThrough&#34;</span>: <span style=color:#e6db74>&#34;your wg0 v4 address&#34;</span>,<span style=color:#960050;background-color:#1e0010>//ä¿®æ”¹æ­¤å¤„ï¼Œå¯v4æˆ–è€…v6</span>
      <span style=color:#f92672>&#34;settings&#34;</span>: {<span style=color:#f92672>&#34;domainStrategy&#34;</span>: <span style=color:#e6db74>&#34;UseIPv4&#34;</span>}<span style=color:#960050;background-color:#1e0010>//ä¿®æ”¹æ­¤å¤„ï¼Œå¯v</span><span style=color:#ae81ff>4</span><span style=color:#960050;background-color:#1e0010>æˆ–è€…v</span><span style=color:#ae81ff>6</span>
    },
    {
      <span style=color:#f92672>&#34;protocol&#34;</span>: <span style=color:#e6db74>&#34;blackhole&#34;</span>,
      <span style=color:#f92672>&#34;settings&#34;</span>: {},
      <span style=color:#f92672>&#34;tag&#34;</span>: <span style=color:#e6db74>&#34;blocked&#34;</span>
    }
  ],
  <span style=color:#f92672>&#34;policy&#34;</span>: {
    <span style=color:#f92672>&#34;system&#34;</span>: {
      <span style=color:#f92672>&#34;statsInboundDownlink&#34;</span>: <span style=color:#66d9ef>true</span>,
      <span style=color:#f92672>&#34;statsInboundUplink&#34;</span>: <span style=color:#66d9ef>true</span>
    }
  },
  <span style=color:#f92672>&#34;routing&#34;</span>: {
    <span style=color:#f92672>&#34;rules&#34;</span>: [
      
{
        <span style=color:#f92672>&#34;inboundTag&#34;</span>: [
          <span style=color:#e6db74>&#34;api&#34;</span>
        ],
        <span style=color:#f92672>&#34;outboundTag&#34;</span>: <span style=color:#e6db74>&#34;api&#34;</span>,
        <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;field&#34;</span>
      },
{
                <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;field&#34;</span>,
                <span style=color:#f92672>&#34;outboundTag&#34;</span>: <span style=color:#e6db74>&#34;wg0&#34;</span>,
                <span style=color:#f92672>&#34;inboundTag&#34;</span>: [
                   <span style=color:#e6db74>&#34;&lt;inboundTag&gt;&#34;</span><span style=color:#960050;background-color:#1e0010>//éœ€è¦ä¹‹å‰åœ¨inboundä¸­æŒ‡å®šå¥½Tagï¼Œæˆ‘è¿™é‡Œæ˜¯apiç”Ÿæˆçš„</span>,<span style=color:#960050;background-color:#1e0010>è¿˜å¯ä»¥æ·»åŠ åŸŸåç­‰ç­‰</span>
                   ]
            },
      {
        <span style=color:#f92672>&#34;outboundTag&#34;</span>: <span style=color:#e6db74>&#34;blocked&#34;</span>,
        <span style=color:#f92672>&#34;protocol&#34;</span>: [
          <span style=color:#e6db74>&#34;bittorrent&#34;</span>
        ],
        <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;field&#34;</span>
      }
    ]
  },
  <span style=color:#f92672>&#34;stats&#34;</span>: {}
}
</code></pre></div><div class="notices warning"><p><strong>TIPS</strong></p><p>å¯ä»¥é€šè¿‡ä¿®æ”¹ &ldquo;domainStrategy&rdquo;: &ldquo;UseIPv6"æ¥æ§åˆ¶å¯¹åº”ç”¨æˆ·çš„è®¿é—®æ–¹å¼
å®æµ‹ä¼˜å…ˆçº§è¦é«˜äºç³»ç»Ÿæœ¬èº«çš„gai.config</p></div><h2 ref=5ç³»ç»Ÿè®¾ç½®é…ç½®>5ã€ç³»ç»Ÿè®¾ç½®é…ç½®</h2><a class=anchor id=5ç³»ç»Ÿè®¾ç½®é…ç½®></a><div class="notices warning"><p><strong>TIPS</strong></p><p>éœ€è¦æ‰“å¼€ç³»ç»Ÿçš„ip_forward</p></div><h2 ref=6å®Œæˆwireguardç›¸å…³è®¾ç½®>6ã€å®ŒæˆWireGuardç›¸å…³è®¾ç½®</h2><a class=anchor id=6å®Œæˆwireguardç›¸å…³è®¾ç½®></a><p>//å¼€å¯éš§é“</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash>wg-quick up wg0 
</code></pre></div><p>//å¼€æœºè‡ªå¯</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash>systemctl enable wg-quick@wg0
systemctl start wg-quick@wg0
</code></pre></div><p>//éªŒè¯IPv4/IPv6</p><p>è‡ªè¡ŒéªŒè¯Googleæœç´¢myip</p><h2 ref=åè®°>åè®°</h2><a class=anchor id=åè®°></a><p>æœ¬æ–‡æœ¬æ„æ˜¯å¯ä»¥é¿å…çš„å¤šä½™çš„æµé‡æµªè´¹ï¼Œå°†è·¯ç”±å’Œåˆ†æµçš„åŠŸèƒ½äº¤ç»™Xrayå¤„ç†ã€‚é¿å…äº†ç»´æŠ¤è·¯ç”±è¡¨çš„ç¹çå·¥ä½œã€‚é¡ºä¾¿æŠ€æœ¯æå‡UPã€‚</p><h2 ref=æ„Ÿè°¢>æ„Ÿè°¢</h2><a class=anchor id=æ„Ÿè°¢></a><p>@Xray-core@V2ray-core@WireGuard@p3terx@w@Hiram@Luminous@Ln@JackChou</p></div><div class=chevrons></div></section><section class=right-menu><div class=TableOfContents><label><i class="fas fa-align-right"></i>&nbsp;&nbsp;</label><nav><ul><li><a href=/documents/level-2/sendthrough/>é€šè¿‡Xrayå°†ç‰¹å®šçš„æµé‡æŒ‡å‘ç‰¹å®šå‡ºå£ï¼Œå®ç°å…¨å±€è·¯ç”±â€œåˆ†æµâ€-sendthroughæ³•</a></li></ul></nav><nav id=TableOfContents><ul><li><a href=#å‰è¨€>å‰è¨€</a></li><li><a href=#1å®‰è£…ä»£ç†æˆ–è€…vpnè½¯ä»¶ä¾‹å¦‚wireguardipsecç­‰>1ã€å®‰è£…ä»£ç†æˆ–è€…VPNè½¯ä»¶ï¼ˆä¾‹å¦‚Wireguardã€IPsecç­‰ï¼‰</a></li><li><a href=#2ç¼–è¾‘vpné…ç½®æ–‡ä»¶ä»¥wireguardä¸ºä¾‹>2ã€ç¼–è¾‘VPNé…ç½®æ–‡ä»¶ï¼ˆä»¥WireGuardä¸ºä¾‹ï¼‰</a></li><li><a href=#3å¯ç”¨-wireguard-ç½‘ç»œæ¥å£>3ã€å¯ç”¨ WireGuard ç½‘ç»œæ¥å£</a></li><li><a href=#4xray-corev2ray-coreé…ç½®æ–‡ä»¶ä¿®æ”¹>4ã€Xray-core/V2ray-coreé…ç½®æ–‡ä»¶ä¿®æ”¹</a></li><li><a href=#5ç³»ç»Ÿè®¾ç½®é…ç½®>5ã€ç³»ç»Ÿè®¾ç½®é…ç½®</a></li><li><a href=#6å®Œæˆwireguardç›¸å…³è®¾ç½®>6ã€å®ŒæˆWireGuardç›¸å…³è®¾ç½®</a></li><li><a href=#åè®°>åè®°</a></li><li><a href=#æ„Ÿè°¢>æ„Ÿè°¢</a></li></ul></nav></div><div class=Actions><nav><ul><li><a href=https://github.com/XTLS/XTLS.github.io/tree/main/content/documents/level-2/sendthrough.md target=blank><i class="fab fa-github"></i></a></li><li><i class="fas fa-calendar"></i>14 March 2021</li></ul></nav></div></section></article><footer><footer><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank rel="noopener noreferrer" href=https://example.org/mail><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel="noopener noreferrer" href=https://example.org/twitter><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank rel="noopener noreferrer" href=https://example.org/stack><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel="noopener noreferrer" href=https://github.com/XTLS><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel="noopener noreferrer" href=https://example.org/slack><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list"><a class=text-white target=_blank rel="noopener noreferrer" href=https://example.org/mail><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2020-2021 ProjectX Community All Rights Reserved</small></div></div></div></footer></footer></body></html>